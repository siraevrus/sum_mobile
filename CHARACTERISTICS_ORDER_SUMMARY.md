# üìã –†–µ–∑—é–º–µ: –ü–æ—Ä—è–¥–æ–∫ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ —Ç–æ–≤–∞—Ä–∞

## üéØ –ö—Ä–∞—Ç–∫–∏–π –æ—Ç–≤–µ—Ç

**–ü–æ—á–µ–º—É –ø–æ—Ä—è–¥–æ–∫ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è?**

–ü–æ—Ç–æ–º—É —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è **—Ä–∞–∑–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö** –∏ **—Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö**:

| | –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ | –ü—Ä–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ –ø—Ä–µ–≤—å—é |
|---|---|---|
| **–§–∞–π–ª** | `product_inflow_form_page.dart` | `product_inflow_detail_page.dart` |
| **–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö** | `_selectedTemplate!.attributes` | `_product.attributes` |
| **–¢–∏–ø –¥–∞–Ω–Ω—ã—Ö** | `List<ProductAttributeModel>` | `Map<String, dynamic>` |
| **–ü–æ—Ä—è–¥–æ–∫** | ‚úÖ –£–ø–æ—Ä—è–¥–æ—á–µ–Ω–æ (sortOrder) | ‚ùå –ù–µ—É–ø–æ—Ä—è–¥–æ—á–µ–Ω–æ (HashMap) |
| **–ú–µ—Ç–æ–¥ –∏—Ç–µ—Ä–∞—Ü–∏–∏** | `for (final attr in list)` | `.entries` –±–µ–∑ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ |

---

## üîç –ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑

### üìù –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è (–ø—Ä–∞–≤–∏–ª—å–Ω–æ)

```dart
// product_inflow_form_page.dart, —Å—Ç—Ä–æ–∫–∞ 585-598
List<Widget> _buildAttributeFields() {
  final List<Widget> fields = [];
  
  // –ü—Ä–æ—Ö–æ–¥–∏—Ç –ø–æ –º–∞—Å—Å–∏–≤—É –≤ –ü–û–†–Ø–î–ö–ï –∏–∑ —à–∞–±–ª–æ–Ω–∞
  for (final attribute in _selectedTemplate!.attributes) {
    fields.add(_buildAttributeField(attribute, controller));
  }
  
  return fields;  // ‚úÖ –ü–æ—Ä—è–¥–æ–∫ –∫–∞–∫ –≤ BD (sortOrder)
}
```

**–®–∞–±–ª–æ–Ω –∏–∑ API —Å–æ–¥–µ—Ä–∂–∏—Ç:**
```json
{
  "attributes": [
    {"variable": "height", "name": "–í—ã—Å–æ—Ç–∞", "sortOrder": 1},
    {"variable": "width", "name": "–®–∏—Ä–∏–Ω–∞", "sortOrder": 2},
    {"variable": "depth", "name": "–ì–ª—É–±–∏–Ω–∞", "sortOrder": 3}
  ]
}
```

---

### üñºÔ∏è –ü—Ä–µ–≤—å—é –∫–∞—Ä—Ç–æ—á–∫–∏ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ)

```dart
// product_inflow_detail_page.dart, —Å—Ç—Ä–æ–∫–∞ 193-197
(_product.attributes as Map).entries
    .map((entry) => _buildInfoRow(
        _getAttributeDisplayName(entry.key.toString()), 
        entry.value.toString()))
    .toList()
```

**–¢–æ–≤–∞—Ä –∏–∑ API —Å–æ–¥–µ—Ä–∂–∏—Ç:**
```json
{
  "attributes": {
    "height": "10",
    "width": "5",
    "depth": "3"
  }
}
```

**–ü—Ä–æ–±–ª–µ–º–∞:** Map –≤ Dart - —ç—Ç–æ –Ω–µ—É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è!
- –ü—Ä–∏ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –ø–æ—Ä—è–¥–æ–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–∑–Ω—ã–º
- –ù–µ—Ç –≥–∞—Ä–∞–Ω—Ç–∏–∏ —Å–æ–±–ª—é–¥–µ–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞ sortOrder
- –†–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ö–µ—à–∞ –∫–ª—é—á–µ–π

---

## üí° –†–µ—à–µ–Ω–∏–µ

### ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω (–∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫) –ø—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏:

```dart
// product_inflow_detail_page.dart, —Å—Ç—Ä–æ–∫–∞ 193-197

// –ë–´–õ–û (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
(_product.attributes as Map).entries.map(...)

// –°–¢–ê–ù–ï–¢ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
if (_selectedTemplate != null && _product.attributes != null) {
  return _selectedTemplate!.attributes
      .where((attr) => _product.attributes.containsKey(attr.variable))
      .map((attr) => _buildInfoRow(
          attr.name,  // –ò—Å–ø–æ–ª—å–∑—É–µ–º name –∏–∑ —à–∞–±–ª–æ–Ω–∞
          _product.attributes[attr.variable].toString()))
      .toList();
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ (–∏–∑ sortOrder)
- ‚úÖ –°–æ–≤–ø–∞–¥–∞–µ—Ç —Å –ø–æ—Ä—è–¥–∫–æ–º –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏
- ‚úÖ –ù–∞–¥–µ–∂–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

---

## üìö –§–∞–π–ª—ã –¥–ª—è –æ–∑–Ω–∞–∫–æ–º–ª–µ–Ω–∏—è

1. **product_inflow_form_page.dart**
   - –°—Ç—Ä–æ–∫–∞ 585-598: `_buildAttributeFields()` - –∫–∞–∫ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å

2. **product_inflow_detail_page.dart**
   - –°—Ç—Ä–æ–∫–∞ 193-197: —Ç–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è - –∫–∞–∫ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å
   - –°—Ç—Ä–æ–∫–∞ 100-112: `_loadProductTemplate()` - –∑–∞–≥—Ä—É–∂–∞–µ—Ç —à–∞–±–ª–æ–Ω

3. **product_template_model.dart**
   - –°—Ç—Ä–æ–∫–∞ 35: `sortOrder` - –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ—Ä—è–¥–æ–∫

---

## üéì –í—ã–≤–æ–¥

–ü—Ä–æ–±–ª–µ–º–∞ –≤ **–Ω–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö**:
- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **—É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω—ã–π List –∏–∑ —à–∞–±–ª–æ–Ω–∞**
- –ü—Ä–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **–Ω–µ—É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω—ã–π Map –∏–∑ —Ç–æ–≤–∞—Ä–∞**

–†–µ—à–µ–Ω–∏–µ: **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ—Ç –∂–µ List (—à–∞–±–ª–æ–Ω) –ø—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏**
